import{l as H,y as J,o as m,c as g,m as a,h as u,k as x,a6 as f,a7 as F,p as i,a8 as C,F as P,G as M,a as r,a9 as q,J as Z,t as h,a5 as b}from"./chunks/framework.CFfU7An_.js";import{Z as L,j as N,z as V,U as W,I as K}from"./chunks/anu.BEFiqz5l.js";import"./chunks/transform.bqJWYwjj.js";import{E as Q,S as $,C as ss,H as as,V as A,A as es,a as j}from"./chunks/flowGraphSceneTickEventBlock.jsKt_esu.js";import{l as O}from"./chunks/linear.DaneNRwP.js";import{o as G}from"./chunks/ordinal.Cn4HJ1r5.js";import{s as I}from"./chunks/sequential.H7nM2Imq.js";const ts={class:"canvas-container"},is=a("canvas",{id:"canvas"},null,-1),ls=[is],os={__name:"chroma",props:{type:String,scheme:String,material:String,meshes:Number,steps:Number},setup(T){const e=T;return H(()=>{const y=document.querySelector("#canvas"),E=new Q(y,!0);let o=new $(E);o.clearColor=new ss(30/256,30/256,32/256),new as("light1",new A(0,10,0),o);const l=new es("Camera",-(Math.PI/4)*3,Math.PI/4,10,new A(0,0,0),o);l.position=new A(0,0,-e.meshes),l.lowerRadiusLimit=e.meshes,l.upperRadiusLimit=e.meshes,l.attachControl(!0);let d=[...Array(e.meshes).keys()].map(t=>({data:t})),p=O().domain([0,e.meshes-1]).range([-e.meshes/2,e.meshes/2]),c=G(L(e.scheme)[e.material=="Color3"?"toColor3":e.material=="Color4"?"toColor4":e.material=="Standard Material"?"toStandardMaterial":e.material=="PBR Rough"?"toPBRMaterialRough":e.material=="PBR Glossy"?"toPBRMaterialGlossy":null](e.steps>0?e.steps:void 0)),R=I(N(e.scheme).toColor3(e.steps>0?e.steps:void 0)).domain([0,e.meshes-1]),B=e.type=="Ordinal"?c:R,k=V("sphere",{},d).positionX(t=>p(t.data));e.material=="Color3"||e.material=="Color4"?k.material(()=>new j("materialName")).diffuseColor(t=>B(t)):k.material(t=>B(t)),E.runRenderLoop(()=>{o.render()}),window.addEventListener("resize",function(){E.resize()}),J(()=>[e.type,e.meshes,e.steps,e.material,e.scheme],([t,s,v,n,D])=>{W("sphere",o).dispose(),l.lowerRadiusLimit=s,l.upperRadiusLimit=s,l.position=new A(0,0,-s);let z=[...Array(s).keys()].map(_=>({data:_})),U=O().domain([0,s-1]).range([-s/2,s/2]),Y=G(L(D)[n=="Color3"?"toColor3":n=="Color4"?"toColor4":n=="Standard Material"?"toStandardMaterial":n=="PBR Rough"?"toPBRMaterialRough":n=="PBR Glossy"?"toPBRMaterialGlossy":null](v>0?v:void 0)),X=I(N(D)[n=="Color3"?"toColor3":n=="Color4"?"toColor4":n=="Standard Material"?"toStandardMaterial":n=="PBR Rough"?"toPBRMaterialRough":n=="PBR Glossy"?"toPBRMaterialGlossy":null](v>0?v:void 0)).domain([0,s-1]),S=t=="Ordinal"?Y:X;console.log(S(0),S(s-1));let w=V("sphere",{},z).positionX(_=>U(_.data));n=="Color3"||n=="Color4"?w.material(()=>new j("materialName")).diffuseColor(_=>S(_.data)):w.material(_=>S(_.data))})}),(y,E)=>(m(),g("div",ts,ls))}},ns=b(`<h1 id="color-scales" tabindex="-1">Color Scales <a class="header-anchor" href="#color-scales" aria-label="Permalink to &quot;Color Scales&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The color scale prefab provides utility class and methods for generating color scales and returning them in a variety of formats (hex, color3, material, etc.). This prefab can be used standalone or in conjunction with <a href="https://d3js.org/d3-scale" target="_blank" rel="noreferrer">d3-scale</a>. Additionally, these functions implement <a href="https://gka.github.io/chroma.js/" target="_blank" rel="noreferrer">chroma.js</a> to provide a variety of predefined schemes like <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3" target="_blank" rel="noreferrer">color brewer</a>, or your own custom color maps. We are also working on a few schemes of our own to come out later.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//returns list of color from scheme name or list of color hex codes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">anu.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ordinalChromatic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string[]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toColor3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//returns function that accepts int 0-1 and returns corresponding color</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">anu.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sequentialChromatic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string[]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toColor3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="color-and-material-formats" tabindex="-1">Color and Material Formats <a class="header-anchor" href="#color-and-material-formats" aria-label="Permalink to &quot;Color and Material Formats&quot;">​</a></h2><table><thead><tr><th>Method</th><th>Return</th></tr></thead><tbody><tr><td>toColor3(steps)</td><td>returns type of <a href="https://doc.babylonjs.com/typedoc/classes/BABYLON.Color3" target="_blank" rel="noreferrer">color3</a> length of steps or scheme by default</td></tr><tr><td>toColor4(steps)</td><td>returns type of <a href="https://doc.babylonjs.com/typedoc/classes/BABYLON.Color4" target="_blank" rel="noreferrer">color4</a> length of steps or scheme by default</td></tr><tr><td>toStandardMaterial(steps)</td><td>returns type of <a href="https://doc.babylonjs.com/typedoc/classes/BABYLON.StandardMaterial" target="_blank" rel="noreferrer">standardMaterial</a> length of steps or scheme by default</td></tr><tr><td>toPBRMaterialRough(steps)</td><td>returns type of <a href="https://doc.babylonjs.com/typedoc/classes/BABYLON.PBRMetallicRoughnessMaterial" target="_blank" rel="noreferrer">PBRMetallicRoughnessMaterial</a> length of steps or scheme by default</td></tr><tr><td>toPBRMaterialGlossy(steps)</td><td>returns type of <a href="https://doc.babylonjs.com/typedoc/classes/BABYLON.PBRSpecularGlossinessMaterial" target="_blank" rel="noreferrer">PBRSpecularGlossinessMaterial</a> length of steps or scheme by default</td></tr></tbody></table><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2>`,8),rs={class:"container2"},hs={class:"ui"},ds=["selected","value"],ps=["value","selected"],cs=["value","selected"],ks={class:"sliders"},us={class:"language-js vp-adaptive-theme"},ms=a("button",{title:"Copy Code",class:"copy"},null,-1),gs=a("span",{class:"lang"},"js",-1),_s={class:"shiki shiki-themes github-light github-dark vp-code"},Es=a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'//Creating some "data" as a simple object list of numbers 0-n')],-1),ys={class:"line"},fs=b('<span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span>',6),Cs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},bs=b('<span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: i}})</span>',12),Bs=a("span",{class:"line"},null,-1),vs=a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//Create our color scale function")],-1),Ss={class:"line"},As=a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let",-1),Rs=a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," color ",-1),Fs=a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=",-1),Ps={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},Ms=a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(",-1),Ts={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Ds=a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},").",-1),ws={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},xs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},qs=a("span",{class:"line"},null,-1),Ls=a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//Create spheres and bind our data to them, ")],-1),Ns=a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//move spheres into position and apply our color or material")],-1),Vs=b('<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spheres </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> anu.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sphere&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {}, data)</span></span>',1),js=b('<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">positionX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.data)</span></span>',1),Os={class:"line"},Gs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Ws=JSON.parse('{"title":"Color Scales","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/prefabs/chromatic.md","filePath":"guide/prefabs/chromatic.md"}'),Is={name:"guide/prefabs/chromatic.md"},Ks=Object.assign(Is,{setup(T){const e=u({Ordinal:{name:"Ordinal",method:"d3.scaleOrdinal(anu.ordinalChromatic"},Sequential:{name:"Sequential",method:"d3.scaleSequential(anu.sequentialChromatic"}}),y=u({Color3:{name:"Color3",method:"toColor3"},Color4:{name:"Color4",method:"toColor4"},Standard_Material:{name:"Standard Material",method:"toStandardMaterial"},PBR_Rough:{name:"PBR Rough",method:"toPBRMaterialRough"},PBR_Glossy:{name:"PBR Glossy",method:"toPBRMaterialGlossy"}}),E=u(Object.keys(K).reverse());let o=u(["Ordinal"]),l=u(["Color3"]),d=u(["d310"]),p=u(10),c=u(0),R=x(()=>".domain([0,"+(p.value-1)+"])"),B=x(()=>l.value[0]=="Color3"||l.value[0]=="Color4"?`material(() => new BABYLON.StandardMaterial("mat"))
       .diffuseColor((d) => color(d.data))`:l.value[0]=="Standard Material"||l.value[0]=="PBR Rough"||l.value[0]=="PBR Glossy"?"material((d) => color(d.data))":null);return(k,t)=>(m(),g("div",null,[ns,a("div",rs,[a("div",hs,[f(a("select",{class:"form-control",required:!0,onChange:t[0]||(t[0]=(...s)=>k.changeLocation&&k.changeLocation(...s)),multiple:"",size:"2","onUpdate:modelValue":t[1]||(t[1]=s=>C(o)?o.value=s:o=s)},[(m(!0),g(P,null,M(e.value,s=>(m(),g("option",{selected:i(o)===s.name,value:s.name},h(s.name),9,ds))),256))],544),[[F,i(o)]]),f(a("select",{class:"form-control",required:!0,onChange:t[2]||(t[2]=(...s)=>k.changeLocation&&k.changeLocation(...s)),multiple:"",size:"5","onUpdate:modelValue":t[3]||(t[3]=s=>C(l)?l.value=s:l=s)},[(m(!0),g(P,null,M(y.value,s=>(m(),g("option",{value:s.name,selected:i(l)===s.name},h(s.name),9,ps))),256))],544),[[F,i(l)]]),f(a("select",{class:"form-control",required:!0,onChange:t[4]||(t[4]=(...s)=>k.changeLocation&&k.changeLocation(...s)),multiple:"",size:"5","onUpdate:modelValue":t[5]||(t[5]=s=>C(d)?d.value=s:d=s)},[(m(!0),g(P,null,M(E.value,s=>(m(),g("option",{value:s,selected:i(d)===s},h(s),9,cs))),256))],544),[[F,i(d)]]),a("div",ks,[a("label",null,[r(" Meshes "),f(a("input",{type:"range",min:"5",max:"50",class:"slider","onUpdate:modelValue":t[6]||(t[6]=s=>C(p)?p.value=s:p=s)},null,512),[[q,i(p),void 0,{number:!0}]])]),a("label",null,[r(" Steps "),f(a("input",{type:"range",min:"0",max:"100",class:"slider","onUpdate:modelValue":t[7]||(t[7]=s=>C(c)?c.value=s:c=s)},null,512),[[q,i(c),void 0,{number:!0}]])])])]),Z(os,{type:i(o)[0],scheme:i(d)[0],material:i(l)[0],meshes:i(p),steps:i(c)},null,8,["type","scheme","material","meshes","steps"])]),a("div",us,[ms,gs,a("pre",_s,[a("code",null,[Es,r(`
`),a("span",ys,[fs,a("span",Cs,"("+h(i(p))+").",1),bs]),r(`
`),Bs,r(`
`),vs,r(`
`),a("span",Ss,[As,Rs,Fs,a("span",Ps," "+h(e.value[i(o)[0]].method),1),Ms,a("span",Ts,"'"+h(i(d)[0])+"'",1),Ds,a("span",ws,h(y.value[i(l)[0].replace(/ /g,"_")].method),1),a("span",xs,"("+h(i(c)>0?i(c):null)+"))"+h(i(o)[0]=="Sequential"?i(R):null),1)]),r(`
`),qs,r(`
`),Ls,r(`
`),Ns,r(`
`),Vs,r(`
`),js,r(`
`),a("span",Os,[a("span",Gs,"       ."+h(i(B)),1)])])])])]))}});export{Ws as __pageData,Ks as default};
