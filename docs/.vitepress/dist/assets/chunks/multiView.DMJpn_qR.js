import{aa as u,o as m,c as v,r as w,a4 as p}from"./framework.Dom3zjHH.js";import{f as _,C as f,V as E}from"./flowGraphSceneTickEventBlock.CVmhT_RE.js";const V={__name:"multiView",setup(L){let l=document.createElement("canvas"),e=new _(l,!0);async function o(a){let n=a.detail.canvas,r=await p(()=>import("../anu-examples/"+a.detail.scene+".js"),[]),c=Object.keys(r)[0],t=await r[c](e),i=e.registerView(n,t.activeCamera);const s=t.createDefaultEnvironment();s.setMainColor(f.FromHexString("#0e0e17")),s.ground.position=new E(0,-2,0),t.detachControl(),n.addEventListener("mouseout",d=>{t.detachControl()}),n.addEventListener("mouseover",d=>{e.inputElement=n,t.attachControl(),a.detail.inspector&&(t.debugLayer.hide(),t.debugLayer.show({globalRoot:n.parentElement,embedMode:!0,showInspector:!1}))}),e.activeView=i,e.runRenderLoop(()=>{e.activeView===i&&t.render()})}return window.addEventListener("test",o),window.addEventListener("resize",function(){e==null||e.resize()}),u(()=>{e.dispose(),window.removeEventListener("test",o)}),(a,n)=>(m(),v("div",null,[w(a.$slots,"default")]))}};export{V as _};
