import{e as w,o as v,i as x}from"./anu.32f81ff5.js";function y(n,o){for(let a=1,r=o.length;a<r;++a)n=n.flatMap(e=>e.pop().map(([t,l])=>[...e,t,l]));return n}function A(n,o,...a){return y(b(n,o,...a),a)}function b(n,o,...a){return I(n,Array.from,o,a)}function I(n,o,a,r){return function e(t,l){if(l>=r.length)return a(t);const f=new w,g=r[l++];let c=-1;for(const d of t){const i=g(d,++c,t),u=f.get(i);u?u.push(d):f.set(i,[d])}for(const[d,i]of f)f.set(d,e(i,l));return o(f)}(n,0)}function j(n,o){let a=0,r=0;if(o===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(++a,r+=e);else{let e=-1;for(let t of n)(t=o(t,++e,n))!=null&&(t=+t)>=t&&(++a,r+=t)}if(a)return r/a}function R(n,o,a){n=+n,o=+o,a=(e=arguments.length)<2?(o=n,n=0,1):e<3?1:+a;for(var r=-1,e=Math.max(0,Math.ceil((o-n)/a))|0,t=new Array(e);++r<e;)t[r]=n+r*a;return t}function k(){var n=v().unknown(void 0),o=n.domain,a=n.range,r=0,e=1,t,l,f=!1,g=0,c=0,d=.5;delete n.unknown;function i(){var u=o().length,h=e<r,m=h?e:r,s=h?r:e;t=(s-m)/Math.max(1,u-g+c*2),f&&(t=Math.floor(t)),m+=(s-m-t*(u-g))*d,l=t*(1-g),f&&(m=Math.round(m),l=Math.round(l));var p=R(u).map(function(M){return m+t*M});return a(h?p.reverse():p)}return n.domain=function(u){return arguments.length?(o(u),i()):o()},n.range=function(u){return arguments.length?([r,e]=u,r=+r,e=+e,i()):[r,e]},n.rangeRound=function(u){return[r,e]=u,r=+r,e=+e,f=!0,i()},n.bandwidth=function(){return l},n.step=function(){return t},n.round=function(u){return arguments.length?(f=!!u,i()):f},n.padding=function(u){return arguments.length?(g=Math.min(1,c=+u),i()):g},n.paddingInner=function(u){return arguments.length?(g=Math.min(1,u),i()):g},n.paddingOuter=function(u){return arguments.length?(c=+u,i()):c},n.align=function(u){return arguments.length?(d=Math.max(0,Math.min(1,u)),i()):d},n.copy=function(){return k(o(),[r,e]).round(f).paddingInner(g).paddingOuter(c).align(d)},x.apply(i(),arguments)}export{k as b,A as f,j as m};
