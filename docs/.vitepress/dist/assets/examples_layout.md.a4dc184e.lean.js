import{c as _}from"./chunks/cars.e9064666.js";import{S as j,H as X,V as N,A as Q,k as g,Q as $,l as L,N as R,a as K,C as ss,K as B,$ as ns,d as v}from"./chunks/anu.32f81ff5.js";import{a as as,C,S as ls,R as x,b as P,c as os,T as ps,B as k}from"./chunks/mrdlInnerquadMaterial.4958a132.js";import{e as h,_ as ts}from"./chunks/singleView.f93a2050.js";import{f as I,b as Y,m as b}from"./chunks/band.a58941fb.js";import{s as z}from"./chunks/sequential.29eb7f40.js";import{P as es}from"./chunks/PuBuGn.e1e25b80.js";import{o as Ds,c as Fs,G as cs,b as rs,z as J,a as ys,O as Cs}from"./chunks/framework.ccd7224a.js";class V{constructor(s){this.name=s,this._groupPanel=new P,this._selectors=new Array,this._groupPanel.verticalAlignment=C.VERTICAL_ALIGNMENT_TOP,this._groupPanel.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,this._groupHeader=this._addGroupHeader(s)}get groupPanel(){return this._groupPanel}get selectors(){return this._selectors}get header(){return this._groupHeader.text}set header(s){this._groupHeader.text!=="label"&&(this._groupHeader.text=s)}_addGroupHeader(s){const n=new ps("groupHead",s);return n.width=.9,n.height="30px",n.textWrapping=!0,n.color="black",n.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,n.textHorizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,n.left="2px",this._groupPanel.addControl(n),n}_getSelector(s){if(!(s<0||s>=this._selectors.length))return this._selectors[s]}removeSelector(s){s<0||s>=this._selectors.length||(this._groupPanel.removeControl(this._selectors[s]),this._selectors.splice(s,1))}}class As extends V{constructor(){super(...arguments),this._selectNb=0}addRadio(s,n=o=>{},l=!1){const o=this._selectNb++,e=new as;e.name=s,e.width="20px",e.height="20px",e.color="#364249",e.background="#CCCCCC",e.group=this.name,e.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,e.onIsCheckedChangedObservable.add(function(r){r&&n(o)});const c=C.AddHeader(e,s,"200px",{isHorizontal:!0,controlFirst:!0});c.height="30px",c.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,c.left="4px",this.groupPanel.addControl(c),this.selectors.push(c),e.isChecked=l,this.groupPanel.parent&&this.groupPanel.parent.parent&&(e.color=this.groupPanel.parent.parent.buttonColor,e.background=this.groupPanel.parent.parent.buttonBackground)}_setSelectorLabel(s,n){this.selectors[s].children[1].text=n}_setSelectorLabelColor(s,n){this.selectors[s].children[1].color=n}_setSelectorButtonColor(s,n){this.selectors[s].children[0].color=n}_setSelectorButtonBackground(s,n){this.selectors[s].children[0].background=n}}class d extends V{addSlider(s,n=a=>{},l="Units",o=0,e=0,c=0,r=a=>a|0){const a=new ls;a.name=l,a.value=c,a.minimum=o,a.maximum=e,a.width=.9,a.height="20px",a.color="#364249",a.background="#CCCCCC",a.borderColor="black",a.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,a.left="4px",a.paddingBottom="4px",a.onValueChangedObservable.add(function(p){a.parent.children[0].text=a.parent.children[0].name+": "+r(p)+" "+a.name,n(p)});const F=C.AddHeader(a,s+": "+r(c)+" "+l,"30px",{isHorizontal:!1,controlFirst:!1});F.height="60px",F.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,F.left="4px",F.children[0].name=s,this.groupPanel.addControl(F),this.selectors.push(F),this.groupPanel.parent&&this.groupPanel.parent.parent&&(a.color=this.groupPanel.parent.parent.buttonColor,a.background=this.groupPanel.parent.parent.buttonBackground)}_setSelectorLabel(s,n){this.selectors[s].children[0].name=n,this.selectors[s].children[0].text=n+": "+this.selectors[s].children[1].value+" "+this.selectors[s].children[1].name}_setSelectorLabelColor(s,n){this.selectors[s].children[0].color=n}_setSelectorButtonColor(s,n){this.selectors[s].children[1].color=n}_setSelectorButtonBackground(s,n){this.selectors[s].children[1].background=n}}class us extends x{constructor(s,n=[]){if(super(s),this.name=s,this.groups=n,this._buttonColor="#364249",this._buttonBackground="#CCCCCC",this._headerColor="black",this._barColor="white",this._barHeight="2px",this._spacerHeight="20px",this._bars=new Array,this._groups=n,this.thickness=2,this._panel=new P,this._panel.verticalAlignment=C.VERTICAL_ALIGNMENT_TOP,this._panel.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,this._panel.top=5,this._panel.left=5,this._panel.width=.95,n.length>0){for(let l=0;l<n.length-1;l++)this._panel.addControl(n[l].groupPanel),this._addSpacer();this._panel.addControl(n[n.length-1].groupPanel)}this.addControl(this._panel)}_getTypeName(){return"SelectionPanel"}get panel(){return this._panel}get headerColor(){return this._headerColor}set headerColor(s){this._headerColor!==s&&(this._headerColor=s,this._setHeaderColor())}_setHeaderColor(){for(let s=0;s<this._groups.length;s++)this._groups[s].groupPanel.children[0].color=this._headerColor}get buttonColor(){return this._buttonColor}set buttonColor(s){this._buttonColor!==s&&(this._buttonColor=s,this._setbuttonColor())}_setbuttonColor(){for(let s=0;s<this._groups.length;s++)for(let n=0;n<this._groups[s].selectors.length;n++)this._groups[s]._setSelectorButtonColor(n,this._buttonColor)}get labelColor(){return this._labelColor}set labelColor(s){this._labelColor!==s&&(this._labelColor=s,this._setLabelColor())}_setLabelColor(){for(let s=0;s<this._groups.length;s++)for(let n=0;n<this._groups[s].selectors.length;n++)this._groups[s]._setSelectorLabelColor(n,this._labelColor)}get buttonBackground(){return this._buttonBackground}set buttonBackground(s){this._buttonBackground!==s&&(this._buttonBackground=s,this._setButtonBackground())}_setButtonBackground(){for(let s=0;s<this._groups.length;s++)for(let n=0;n<this._groups[s].selectors.length;n++)this._groups[s]._setSelectorButtonBackground(n,this._buttonBackground)}get barColor(){return this._barColor}set barColor(s){this._barColor!==s&&(this._barColor=s,this._setBarColor())}_setBarColor(){for(let s=0;s<this._bars.length;s++)this._bars[s].children[0].background=this._barColor}get barHeight(){return this._barHeight}set barHeight(s){this._barHeight!==s&&(this._barHeight=s,this._setBarHeight())}_setBarHeight(){for(let s=0;s<this._bars.length;s++)this._bars[s].children[0].height=this._barHeight}get spacerHeight(){return this._spacerHeight}set spacerHeight(s){this._spacerHeight!==s&&(this._spacerHeight=s,this._setSpacerHeight())}_setSpacerHeight(){for(let s=0;s<this._bars.length;s++)this._bars[s].height=this._spacerHeight}_addSpacer(){const s=new os;s.width=1,s.height=this._spacerHeight,s.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT;const n=new x;n.width=1,n.height=this._barHeight,n.horizontalAlignment=C.HORIZONTAL_ALIGNMENT_LEFT,n.verticalAlignment=C.VERTICAL_ALIGNMENT_CENTER,n.background=this._barColor,n.color="transparent",s.addControl(n),this._panel.addControl(s),this._bars.push(s)}addGroup(s){this._groups.length>0&&this._addSpacer(),this._panel.addControl(s.groupPanel),this._groups.push(s),s.groupPanel.children[0].color=this._headerColor;for(let n=0;n<s.selectors.length;n++)s._setSelectorButtonColor(n,this._buttonColor),s._setSelectorButtonBackground(n,this._buttonBackground)}removeGroup(s){if(s<0||s>=this._groups.length)return;const n=this._groups[s];this._panel.removeControl(n.groupPanel),this._groups.splice(s,1),s<this._bars.length&&(this._panel.removeControl(this._bars[s]),this._bars.splice(s,1))}setHeaderName(s,n){if(n<0||n>=this._groups.length)return;const l=this._groups[n];l.groupPanel.children[0].text=s}relabel(s,n,l){if(n<0||n>=this._groups.length)return;const o=this._groups[n];l<0||l>=o.selectors.length||o._setSelectorLabel(l,s)}removeFromGroupSelector(s,n){if(s<0||s>=this._groups.length)return;const l=this._groups[s];n<0||n>=l.selectors.length||l.removeSelector(n)}addToGroupCheckbox(s,n,l=()=>{},o=!1){if(s<0||s>=this._groups.length)return;this._groups[s].addCheckbox(n,l,o)}addToGroupRadio(s,n,l=()=>{},o=!1){if(s<0||s>=this._groups.length)return;this._groups[s].addRadio(n,l,o)}addToGroupSlider(s,n,l=()=>{},o="Units",e=0,c=0,r=0,a=F=>F|0){if(s<0||s>=this._groups.length)return;this._groups[s].addSlider(n,l,o,e,c,r,a)}}function qs(A){const s=new j(A);new X("light1",new N(0,1,0),s);const n=new Q("Camera",-(Math.PI/4)*3,Math.PI/4,10,new N(0,0,0),s);n.attachControl(!0),n.position=new N(10.5,7,-10.5);let l=[];for(let D=0;D<15;D++)if(Math.random()>.5){let O=is(s,Math.random()*100);l.push(O)}else{let O=T(s,Math.random()*100);l.push(O)}let o=g("cot",s);console.log(o),o.scalingX(D=>Math.max(Math.random(),.5)*2),o.scalingY(D=>Math.max(Math.random(),.5)*2),o.scalingZ(D=>Math.max(Math.random(),.4)*2);var e=3,c=20,r=new v(20,5);let a=new $("Layout",{selection:o,rows:e,margin:new v(20,5),radius:20},s).attr("row",2);a.root.normalizeToUnitCube(),n.setTarget(a.root);var F=function(D){e=D,a.attr("row",e)},p=function(D){c=D,a.attr("radius",c)},y=function(D){r.x=D,a.attr("margin",r)},t=function(D){r.y=D,a.attr("margin",r)},u=function(D){return Math.floor(D)},w=function(){let D=T(s,0);D.scalingX(G=>Math.max(Math.random(),.5)*2),D.scalingY(G=>Math.max(Math.random(),.5)*2),D.scalingZ(G=>Math.max(Math.random(),.4)*2),l.push(D),o=g("cot",s),a.options.selection=o,a.update()},Z=function(){l.length!=0&&(l[l.length-1].dispose(),l.pop(),o=g("cot",s),a.options.selection=o,a.update())},M=function(D){switch(D){case 0:a.planeLayout();break;case 1:a.cylinderLayout();break;case 2:a.sphereLayout();break}},m=new As("Layout");m.addRadio("Plane",M),m.addRadio("Cylinder",M,!0),m.addRadio("Sphere",M);var W=new d("Config","S");W.addSlider("row",F,"rows",1,6,3,u);var S=new d("Curvature","S");S.addSlider("curvature",p,"units",0,80,20,u);var f=new d("MarginX","S");f.addSlider("marginx",y,"unit",0,60,20,u);var U=new d("MarginY","S");U.addSlider("marginy",t,"unit",0,20,5,u);var H=AdvancedDynamicTexture.CreateFullscreenUI("UI"),E=new us("sp",[W,S,f,U,m]);E.width=.2,E.height=.9,E.background="#FFFFFF",E.horizontalAlignment=Control.HORIZONTAL_ALIGNMENT_LEFT,E.verticalAlignment=Control.VERTICAL_ALIGNMENT_BOTTOM,E.fontFamily="times new roman",E.fontSize="20pt";var q=k.CreateSimpleButton("button1","add chart");q.width=.2,q.height="40px",q.cornerRadius=20,q.color="white",q.thickness=4,q.background="blue",q.top=200,q.left="10%",q.onPointerClickObservable.add(()=>{w()});var i=k.CreateSimpleButton("button2","remove chart");return i.width=.2,i.height="40px",i.cornerRadius=20,i.color="white",i.thickness=4,i.background="blue",i.top=250,i.left="10%",i.onPointerClickObservable.add(()=>{Z()}),H.addControl(i),H.addControl(q),H.addControl(E),s}function is(A,s){[...new Set(_.map(p=>p.Origin))];const n=[...new Set(_.map(p=>p.Cylinders))].sort();let l=I(_,p=>({Horsepower:b(p,y=>y.Horsepower),Miles_per_Gallon:b(p,y=>y.Miles_per_Gallon)}),p=>p.Cylinders);l=l.map(([p,y])=>({Cylinders:p,...y}));const o=h([...new Set(l.map(p=>p.Horsepower))]),e=h([...new Set(l.map(p=>p.Miles_per_Gallon))]);let c=Y().domain(n).range([-2.5,2.5]).paddingInner(1).paddingOuter(.5),r=L().domain(o).range([0,5]).nice(),a=z(es).domain(e);R("cot","cot"+s);let F=g("cot"+s,A);return F.bind("plane",{height:1,width:.8,sideOrientation:2},l).positionX(p=>c(p.Cylinders)).positionZ(-.01).scalingY(p=>r(p.Horsepower)).positionY(p=>r(p.Horsepower)/2).material((p,y)=>new K("myMaterial",A)).diffuseColor(p=>{let y=a(p.Miles_per_Gallon).replace(/[^\d,]/g,"").split(",").map(t=>t/255);return new ss(...y)}),B("test",A,{parent:F,scale:{x:c,y:r}}),F.name("cot"),F}function T(A,s){const n=[...new Set(_.map(t=>t.Origin))],l=[...new Set(_.map(t=>t.Cylinders))].sort().reverse();let o=I(_,t=>({Horsepower:b(t,u=>u.Horsepower),Miles_per_Gallon:b(t,u=>u.Miles_per_Gallon)}),t=>t.Origin,t=>t.Cylinders);o=o.map(([t,u,w])=>({Origin:t,Cylinders:u,...w}));const e=h([...new Set(o.map(t=>t.Horsepower))]),c=h([...new Set(o.map(t=>t.Miles_per_Gallon))]).reverse();let r=Y().domain(l).range([-2.5,2.5]).paddingInner(1).paddingOuter(.5),a=L().domain(e).range([0,5]).nice(),F=Y().domain(n).range([-2.5,2.5]).paddingInner(1).paddingOuter(.5),p=z(ns("OrRd").toPBRMaterialRough()).domain(c);R("cot","cot"+s);let y=g("cot"+s,A);return y.bind("box",{height:1,width:.8,depth:.8},o).positionX(t=>r(t.Cylinders)).positionZ(t=>F(t.Origin)).scalingY(t=>a(t.Horsepower)).positionY(t=>a(t.Horsepower)/2).material((t,u)=>p(t.Miles_per_Gallon)),B("test",A,{parent:y,scale:{x:r,y:a,z:F}}),y.name("cot"),y}const Es=J("h1",{id:"layouts",tabindex:"-1"},[ys("Layouts "),J("a",{class:"header-anchor",href:"#layouts","aria-label":'Permalink to "Layouts"'},"​")],-1),_s=Cs("",1),Os=JSON.parse('{"title":"Layouts","description":"","frontmatter":{"aside":false},"headers":[],"relativePath":"examples/layout.md","filePath":"examples/layout.md"}'),gs={name:"examples/layout.md"},Ns=Object.assign(gs,{setup(A){return(s,n)=>(Ds(),Fs("div",null,[Es,cs(ts,{scene:rs(qs)},null,8,["scene"]),_s]))}});export{Os as __pageData,Ns as default};
